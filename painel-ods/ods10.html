<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Dashboard ODS 10 - Redução das Desigualdades | LIMFS - Laboratório de Indicadores para Monitoramento das Famílias Sergipanas">
  <!-- Content Security Policy adicionada -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://unpkg.com https://cdnjs.cloudflare.com;
    style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://unpkg.com https://fonts.googleapis.com;
    img-src 'self' data:;
    font-src 'self' https://cdnjs.cloudflare.com https://fonts.gstatic.com;
    connect-src 'self' https://api.mosaicosfuturos.com;
    object-src 'none';
    frame-ancestors 'none';
  ">
  <title>ODS 10 - Redução das Desigualdades | LIMFS</title>
  <link rel="stylesheet" href="../styles/global-variables.css">
  <link rel="stylesheet" href="../styles/painel-ods.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script type="module" src="../js/painel-ods.js"></script>
  <!-- Metadados para compartilhamento social -->
  <meta property="og:title" content="ODS 10 - Redução das Desigualdades | LIMFS">
  <meta property="og:description" content="Conheça os indicadores e ações de impacto relacionados à redução das desigualdades em Sergipe">
  <meta property="og:image" content="../img/logo-icons-coloridos-10.png">
  <meta property="og:url" content="https://www.mosaicosfuturos.com/painel-ods/ods10.html">
  <meta name="twitter:card" content="summary_large_image">
</head>
<body data-pagina="ods10">
  <a href="#conteudo-principal" class="pular-link">Pular para o conteúdo principal</a>
  <header>
    <div class="container">
      <h1>Laboratório de Indicadores para Monitoramento das Famílias Sergipanas</h1>
      <nav aria-label="Menu principal">
        <ul role="menubar">
          <li role="menuitem"><a href="../index.html">Início</a></li>
          <li role="menuitem"><a href="../painel-ods/index.html">Painel Geral</a></li>
          <li role="menuitem"><a href="../sobre/index.html">Sobre</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="conteudo-principal" role="main" class="container">
    <div class="ods-header">
      <img src="../img/logo-icons-coloridos-10.png" alt="Ícone ODS 10" class="ods-icon">
      <div>
        <h1 id="ods-titulo">ODS 10 - Redução das Desigualdades</h1>
        <p id="ods-descricao">Reduzir a desigualdade dentro dos países e entre eles</p>
        <p id="ultima-atualizacao" class="small">Carregando informações...</p>
      </div>
    </div>

    <div id="loading-indicator" class="loader" role="status" aria-live="polite">Carregando dados...</div>
    <div id="error-message" class="error" style="display: none;" role="alert" aria-live="assertive"></div>

    <section class="dashboard-container">
      <div class="card valor-principal-card">
        <h2>Indicador Principal</h2>
        <div class="valor-principal-container">
          <span id="valor-principal" class="valor-principal" aria-live="polite">--</span>
          <span id="valor-descricao" class="valor-descricao" aria-live="polite">Carregando...</span>
        </div>
      </div>

      <div class="card grafico-card">
        <h2>Evolução Histórica</h2>
        <div class="grafico-container" style="height: 300px;">
          <canvas id="grafico-principal" role="img" aria-label="Gráfico de evolução histórica do indicador principal do ODS 10"></canvas>
        </div>
        <p id="grafico-descricao" class="screen-reader-only">Este gráfico mostra a evolução histórica dos indicadores relacionados à redução das desigualdades em Sergipe ao longo dos anos.</p>
        <button id="btn-exportar" class="btn-exportar" aria-label="Exportar dados em CSV">
          <i class="fas fa-download" aria-hidden="true"></i> Exportar Dados (CSV)
        </button>
      </div>
    </section>

    <section class="indicadores-detalhados-container">
      <h2>Indicadores Detalhados</h2>
      <div id="indicadores-detalhados" class="indicadores-grid" aria-live="polite">
        <!-- Os indicadores detalhados serão injetados dinamicamente aqui -->
      </div>
    </section>

    <section class="acoes-impacto">
      <h2>Ações de Impacto</h2>
      <div class="acoes-grid">
        <div class="acao-card">
          <h3>Inclusão Produtiva</h3>
          <p>Programa de capacitação profissional e inclusão no mercado de trabalho para grupos vulneráveis, priorizando jovens, mulheres e pessoas com deficiência em situação de vulnerabilidade social.</p>
          <a href="#" class="btn-saiba-mais" aria-label="Saiba mais sobre Inclusão Produtiva">Saiba mais</a>
        </div>
        <div class="acao-card">
          <h3>Renda Cidadã</h3>
          <p>Implementação de programa complementar de transferência de renda com acompanhamento socioeconômico das famílias, visando a superação da extrema pobreza e inclusão financeira.</p>
          <a href="#" class="btn-saiba-mais" aria-label="Saiba mais sobre o programa Renda Cidadã">Saiba mais</a>
        </div>
        <div class="acao-card">
          <h3>Orçamento Participativo Regional</h3>
          <p>Estratégia de gestão pública que prioriza investimentos regionalmente equilibrados, garantindo alocação de recursos com foco na redução das disparidades entre diferentes regiões do estado.</p>
          <a href="#" class="btn-saiba-mais" aria-label="Saiba mais sobre Orçamento Participativo Regional">Saiba mais</a>
        </div>
      </div>
    </section>

    <section class="recomendacoes-politicas">
      <h2>Recomendações de Políticas Públicas</h2>
      <div class="recomendacoes-lista">
        <div class="recomendacao-item">
          <h3>1. Política Fiscal Progressiva</h3>
          <p>Implementar sistema tributário estadual mais progressivo, com incentivos fiscais para empresas que invistam em territórios de baixo desenvolvimento socioeconômico.</p>
          <a href="#" class="link-documento-oficial" aria-label="Ver documento oficial sobre Política Fiscal Progressiva">
            <i class="fas fa-file-pdf" aria-hidden="true"></i> Ver documento oficial
          </a>
        </div>
        <div class="recomendacao-item">
          <h3>2. Educação Inclusiva</h3>
          <p>Expandir programas educacionais com foco em áreas vulneráveis, incluindo cotas para acesso ao ensino superior e cursos técnicos para população de baixa renda.</p>
          <a href="#" class="link-documento-oficial" aria-label="Ver documento oficial sobre Educação Inclusiva">
            <i class="fas fa-file-pdf" aria-hidden="true"></i> Ver documento oficial
          </a>
        </div>
        <div class="recomendacao-item">
          <h3>3. Protagonismo das Minorias</h3>
          <p>Criar fóruns permanentes de participação social com representantes de grupos minoritários para influenciar decisões políticas e alocação de recursos públicos.</p>
          <a href="#" class="link-documento-oficial" aria-label="Ver documento oficial sobre Protagonismo das Minorias">
            <i class="fas fa-file-pdf" aria-hidden="true"></i> Ver documento oficial
          </a>
        </div>
      </div>
    </section>

    <!-- Nova seção de compartilhamento social -->
    <section class="compartilhamento-social">
      <h2>Compartilhe Estes Dados</h2>
      <p>Ajude a promover a conscientização sobre o ODS 10 em Sergipe</p>
      <div class="botoes-sociais">
        <a href="https://twitter.com/intent/tweet?text=Confira%20os%20indicadores%20do%20ODS%2010%20em%20Sergipe&url=https://www.mosaicosfuturos.com/painel-ods/ods10.html" target="_blank" rel="noopener noreferrer" class="btn-social btn-twitter" aria-label="Compartilhar no Twitter">
          <i class="fab fa-twitter" aria-hidden="true"></i> Twitter
        </a>
        <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.mosaicosfuturos.com/painel-ods/ods10.html" target="_blank" rel="noopener noreferrer" class="btn-social btn-facebook" aria-label="Compartilhar no Facebook">
          <i class="fab fa-facebook-f" aria-hidden="true"></i> Facebook
        </a>
        <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.mosaicosfuturos.com/painel-ods/ods10.html&title=ODS%2010%20em%20Sergipe" target="_blank" rel="noopener noreferrer" class="btn-social btn-linkedin" aria-label="Compartilhar no LinkedIn">
          <i class="fab fa-linkedin-in" aria-hidden="true"></i> LinkedIn
        </a>
      </div>
    </section>

    <!-- Nova seção de participação cidadã -->
    <section class="participacao-cidada">
      <h2>Sua Opinião Importa</h2>
      <p>Ajude-nos a melhorar os indicadores de redução das desigualdades em Sergipe compartilhando sua perspectiva</p>
      <div class="opcoes-participacao">
        <a href="/contato/?assunto=Feedback%20ODS%2010" class="btn-contribuir" aria-label="Contribuir com feedback sobre o ODS 10">
          <i class="fas fa-comment-alt" aria-hidden="true"></i> Enviar Feedback
        </a>
        <button class="btn-participativo" id="btn-abrir-enquete" aria-label="Participar de pesquisa rápida sobre desigualdades">
          <i class="fas fa-poll" aria-hidden="true"></i> Participar de Pesquisa
        </button>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <p>&copy; 2025 LIMFS - Laboratório de Indicadores para Monitoramento das Famílias Sergipanas</p>
      <p>Dados atualizados em <span id="data-atualizacao">Abril de 2025</span></p>
      <p><a href="/acessibilidade.html">Política de Acessibilidade</a> | <a href="/privacidade.html">Política de Privacidade</a></p>
    </div>
  </footer>

  <!-- Modal de enquete participativa -->
  <div id="modal-enquete" class="modal" role="dialog" aria-labelledby="titulo-enquete" aria-hidden="true">
    <div class="modal-conteudo">
      <span class="fechar-modal" id="fechar-enquete" aria-label="Fechar">&times;</span>
      <h2 id="titulo-enquete">Sua percepção sobre desigualdades</h2>
      <form id="form-enquete" action="/api/enquete" method="post">
        <p>Na sua opinião, qual é o maior desafio para reduzir desigualdades em Sergipe?</p>
        <div class="opcoes-enquete">
          <div class="opcao-radio">
            <input type="radio" id="opcao1" name="desafio" value="acesso_educacao">
            <label for="opcao1">Acesso à educação de qualidade</label>
          </div>
          <div class="opcao-radio">
            <input type="radio" id="opcao2" name="desafio" value="oportunidades_trabalho">
            <label for="opcao2">Oportunidades de trabalho</label>
          </div>
          <div class="opcao-radio">
            <input type="radio" id="opcao3" name="desafio" value="distribuicao_renda">
            <label for="opcao3">Distribuição de renda</label>
          </div>
          <div class="opcao-radio">
            <input type="radio" id="opcao4" name="desafio" value="infraestrutura">
            <label for="opcao4">Infraestrutura regional</label>
          </div>
          <div class="opcao-radio">
            <input type="radio" id="opcao5" name="desafio" value="outro">
            <label for="opcao5">Outro</label>
            <input type="text" id="outro-desafio" name="outro_desafio" placeholder="Especifique" class="input-outro">
          </div>
        </div>
        <button type="submit" class="btn-enviar-enquete">Enviar Resposta</button>
      </form>
      <div id="feedback-enquete" class="feedback-mensagem" style="display: none;"></div>
    </div>
  </div>

  <style>
    /* Estilo específico para o ODS 10 com sua cor oficial */
    .valor-principal, .indicador-card h3 {
      color: #DD1367;
    }
    
    .acao-card {
      border-left: 4px solid #DD1367;
    }
    
    .acao-card h3 {
      color: #DD1367;
    }
    
    .btn-saiba-mais {
      background-color: #DD1367;
    }
    
    .btn-saiba-mais:hover {
      background-color: #c01158;
    }
    
    .recomendacao-item {
      border-left: 4px solid #DD1367;
    }

    .indicadores-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    
    .indicador-card {
      background-color: #f8f9fa;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .indicador-card h3 {
      font-size: 1.1rem;
      margin-bottom: 15px;
    }
    
    .valor-grande {
      font-size: 2rem;
      font-weight: 700;
      margin: 10px 0;
    }
    
    .tendencia {
      font-size: 0.9rem;
      color: #555;
    }
    
    .acoes-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    
    .acao-card {
      background-color: #fff;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .btn-saiba-mais {
      display: inline-block;
      margin-top: 15px;
      padding: 8px 16px;
      color: white;
      text-decoration: none;
      border-radius: 4px;
      font-size: 0.9rem;
    }
    
    .recomendacoes-lista {
      margin-top: 20px;
    }
    
    .recomendacao-item {
      background-color: #f8f9fa;
      border-radius: 8px;
      padding: 15px 20px;
      margin-bottom: 15px;
    }
    
    .recomendacao-item h3 {
      font-size: 1.1rem;
      color: #333;
      margin-bottom: 8px;
    }

    /* Links para documentos oficiais */
    .link-documento-oficial {
      display: inline-flex;
      align-items: center;
      margin-top: 12px;
      color: #DD1367;
      font-size: 0.9rem;
      text-decoration: none;
      gap: 5px;
    }

    .link-documento-oficial:hover {
      text-decoration: underline;
    }

    /* Estilos para compartilhamento social */
    .compartilhamento-social,
    .participacao-cidada {
      margin: 30px 0;
      background-color: #f9f9f9;
      padding: 20px;
      border-radius: 8px;
      text-align: center;
    }
    
    .botoes-sociais {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 15px;
      flex-wrap: wrap;
    }
    
    .btn-social {
      display: inline-flex;
      align-items: center;
      padding: 10px 20px;
      color: white;
      text-decoration: none;
      border-radius: 4px;
      gap: 8px;
      transition: opacity 0.3s;
    }
    
    .btn-social:hover {
      opacity: 0.9;
    }
    
    .btn-twitter {
      background-color: #1DA1F2;
    }
    
    .btn-facebook {
      background-color: #4267B2;
    }
    
    .btn-linkedin {
      background-color: #0077B5;
    }

    /* Estilo para a seção de participação cidadã */
    .opcoes-participacao {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 15px;
      flex-wrap: wrap;
    }

    .btn-contribuir {
      display: inline-flex;
      align-items: center;
      padding: 12px 25px;
      color: white;
      background-color: #DD1367;
      text-decoration: none;
      border-radius: 4px;
      gap: 8px;
      font-weight: 500;
      transition: background-color 0.3s;
    }
    
    .btn-contribuir:hover {
      background-color: #c01158;
    }
    
    .btn-participativo {
      display: inline-flex;
      align-items: center;
      padding: 12px 25px;
      color: #333;
      background-color: #f0f0f0;
      border: none;
      border-radius: 4px;
      font-size: 1rem;
      gap: 8px;
      cursor: pointer;
      font-weight: 500;
      transition: background-color 0.3s;
    }
    
    .btn-participativo:hover {
      background-color: #e0e0e0;
    }

    /* Modal de enquete */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      overflow: auto;
    }
    
    .modal-conteudo {
      background-color: white;
      margin: 10% auto;
      padding: 30px;
      width: 80%;
      max-width: 500px;
      border-radius: 8px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
      position: relative;
    }
    
    .fechar-modal {
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 24px;
      cursor: pointer;
      color: #777;
    }
    
    .fechar-modal:hover {
      color: black;
    }
    
    .opcoes-enquete {
      margin: 20px 0;
      text-align: left;
    }
    
    .opcao-radio {
      margin: 10px 0;
    }
    
    .input-outro {
      margin-left: 25px;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
      width: 80%;
    }
    
    .btn-enviar-enquete {
      background-color: #DD1367;
      color: white;
      padding: 10px 25px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: 500;
    }
    
    .btn-enviar-enquete:hover {
      background-color: #c01158;
    }
    
    .feedback-mensagem {
      margin-top: 20px;
      padding: 10px;
      text-align: center;
      border-radius: 4px;
      background-color: #e8f4f8;
      color: #0056b3;
    }
    
    /* Classes para acessibilidade */
    .screen-reader-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }
    
    .pular-link {
      position: absolute;
      left: -999px;
      width: 1px;
      height: 1px;
      top: auto;
      background-color: #DD1367;
      color: white;
      padding: 10px 15px;
      z-index: 999;
      transition: left 0s;
    }
    
    .pular-link:focus {
      left: 10px;
      top: 10px;
      width: auto;
      height: auto;
    }
    
    /* Melhoria de foco para acessibilidade */
    a:focus,
    button:focus,
    input:focus {
      outline: 3px solid rgba(221, 19, 103, 0.5);
      outline-offset: 2px;
    }
    
    /* Responsividade */
    @media (max-width: 768px) {
      .botoes-sociais, .opcoes-participacao {
        flex-direction: column;
        align-items: center;
      }
      
      .btn-social, .btn-contribuir, .btn-participativo {
        width: 80%;
      }
      
      .modal-conteudo {
        width: 90%;
        margin: 15% auto;
        padding: 20px;
      }
    }
  </style>

  <!-- Script de tratamento de erros e modal -->
  <script>
    // Inicialização de tratamento de erros para componentes críticos
    document.addEventListener('DOMContentLoaded', () => {
      // Tratamento global de erros
      window.addEventListener('error', (event) => {
        console.error('Erro capturado globalmente:', event.error);
        const errorMessage = document.getElementById('error-message');
        if (errorMessage) {
          errorMessage.textContent = 'Ocorreu um erro ao carregar os dados. Por favor, recarregue a página ou tente novamente mais tarde.';
          errorMessage.style.display = 'block';
          document.getElementById('loading-indicator').style.display = 'none';
        }
      });
      
      // Simular tempo limite para carregamento
      setTimeout(() => {
        const loadingIndicator = document.getElementById('loading-indicator');
        if (loadingIndicator && loadingIndicator.style.display !== 'none') {
          loadingIndicator.style.display = 'none';
          document.getElementById('error-message').textContent = 'Tempo limite excedido ao carregar os dados. Verifique sua conexão ou tente novamente mais tarde.';
          document.getElementById('error-message').style.display = 'block';
        }
      }, 30000); // 30 segundos de timeout

      // Funcionalidade do modal de enquete
      const modal = document.getElementById('modal-enquete');
      const btnAbrirModal = document.getElementById('btn-abrir-enquete');
      const btnFecharModal = document.getElementById('fechar-enquete');
      const formEnquete = document.getElementById('form-enquete');
      const feedbackEnquete = document.getElementById('feedback-enquete');
      
      // Abrir modal ao clicar no botão
      if (btnAbrirModal) {
        btnAbrirModal.addEventListener('click', () => {
          modal.style.display = 'block';
          document.querySelector('#modal-enquete h2').focus();
        });
      }
      
      // Fechar modal ao clicar no X
      if (btnFecharModal) {
        btnFecharModal.addEventListener('click', () => {
          modal.style.display = 'none';
        });
      }
      
      // Fechar modal ao clicar fora dele
      window.addEventListener('click', (event) => {
        if (event.target === modal) {
          modal.style.display = 'none';
        }
      });
      
      // Submeter formulário de enquete
      if (formEnquete) {
        formEnquete.addEventListener('submit', (event) => {
          event.preventDefault();
          
          // Simulação de envio bem-sucedido (em produção, você enviaria para o servidor)
          formEnquete.style.display = 'none';
          feedbackEnquete.textContent = 'Obrigado por sua contribuição! Suas respostas ajudarão a melhorar nossas políticas de redução das desigualdades.';
          feedbackEnquete.style.display = 'block';
          
          // Fechar modal após 3 segundos
          setTimeout(() => {
            modal.style.display = 'none';
            formEnquete.style.display = 'block';
            feedbackEnquete.style.display = 'none';
          }, 3000);
        });
      }
    });
  </script>
</body>
</html>